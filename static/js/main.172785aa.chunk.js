(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{25:function(e,n,t){"use strict";t.r(n);var r,c,i,a,o,s,u,l,d,b,j,f,h,x=t(1),p=t.n(x),g=t(12),O=t.n(g),m=t(4),v=t(2),y=t(3),w=y.a.div(r||(r=Object(v.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    margin: 0 0.5rem;\n"]))),k=y.a.div(c||(c=Object(v.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n"]))),S=y.a.span(i||(i=Object(v.a)(["\n    font-family: 'Lato', sans-serif;\n    font-weight: bold;\n    color: black;\n    font-size: ",";\n    padding: 0.5rem;\n    text-align: ","; ;\n"])),(function(e){return"".concat(e.size,"rem")||!1}),(function(e){return e.alignText?"center":"none"})),P=Object(y.a)(w)(a||(a=Object(v.a)(["\n    margin-bottom: 3rem;\n"]))),z="https://www.omdbapi.com/",C="8c913da8",L="#ffffff",T="#dddddd",F="#f5c516",q="#e2b616",A=y.a.div(o||(o=Object(v.a)(["\n    flex: 30% 1 auto;\n    display: flex;\n    flex-direction: row;\n    margin: 0.5rem 0;\n    padding: 1rem;\n    width: 25rem;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    background-color: ",";\n    border-radius: 5px;\n\n    @media (max-width: 1199px) {\n        width: 20rem;\n    }\n"])),L),E=y.a.img(s||(s=Object(v.a)(["\n    width: 100%;\n    height: auto;\n    max-width: 200px;\n"]))),I=y.a.div(u||(u=Object(v.a)(["\n    width: 50%;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n"]))),M=y.a.button(l||(l=Object(v.a)(["\n    background-color: ",";\n    color: black;\n    font-weight: 900;\n    border: none;\n    border-radius: 5px;\n    padding: 0.3rem 0rem;\n    max-width: 100px;\n    cursor: pointer;\n\n    :hover {\n        background-color: ",";\n    }\n"])),F,q),N=y.a.div(d||(d=Object(v.a)(["\n    height: 270px;\n    max-width: 200px;\n    background-color: ",";\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 3rem;\n    color: ",";\n    text-align: center;\n"])),T,L),B=t(0),J=function(e){var n=e.data,t="".concat(n.Title,"poster");return Object(B.jsxs)(A,{children:[Object(B.jsxs)(I,{children:[Object(B.jsx)(S,{size:2,children:n.Title}),Object(B.jsxs)(I,{children:[Object(B.jsx)(S,{size:1.7,children:n.Year}),Object(B.jsx)(S,{size:1.3,children:n.Type})]}),Object(B.jsx)(M,{type:"button",onClick:function(){return window.open("https://www.imdb.com/title/".concat(n.imdbID,"/"))},children:"Go to IMBb"})]}),Object(B.jsx)(I,{children:"N/A"!==n.Poster?Object(B.jsx)(E,{src:n.Poster,alt:t,width:"100",height:"200"}):Object(B.jsx)(N,{children:"No poster"})})]})},Q=y.a.input(b||(b=Object(v.a)(["\n    font-family: 'Lato', sans-serif;\n    font-weight: bold;\n    font-size: 1rem;\n\n    width: 100%;\n    background-color: transparent;\n    margin: 0;\n    color: black;\n    word-wrap: break-word;\n    outline: none;\n    display: flex;\n    flex: 100%;\n    height: 34px;\n    padding: 0.4rem 1rem;\n    font-size: 1.5rem;\n    border-radius: 24px;\n    border: none;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n\n    :hover,\n    :focus {\n        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n    }\n"]))),R=function(e){var n=e.query,t=e.handleSearch,r=e.placeholder;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(Q,{type:"text",onChange:t,value:n,placeholder:r})})},D=y.a.div(j||(j=Object(v.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n\n    margin: 30px 0;\n"]))),G=y.a.button(f||(f=Object(v.a)(["\n    border-radius: 4px;\n    font-size: 1rem;\n    height: 34px;\n    min-width: 34px;\n    padding: 0 0.5rem;\n    transition: 0.3s cubic-bezier(0, 0, 0.2, 1);\n    width: auto;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: 1px solid ",";\n    margin: 5px 5px;\n    background-color: ",";\n"])),T,(function(e){return e.isActive?T:L})),Y=y.a.span(h||(h=Object(v.a)(["\n    display: flex;\n    align-items: center;\n"]))),H=function(e){var n=e.totalPages,t=e.currentPage,r=e.handlePageChange,c=Array.from(Array(n).keys()).map((function(e){return e+1})),i=(t<5?c.slice(1,6):n<=t+2?c.slice(n-6,n-1):c.slice(t-3,t+2)).filter((function(e){return 1!==e&&e!==n})),a=i.slice(-1)[0];return Object(B.jsxs)(D,{children:[Object(B.jsx)(G,{isActive:1===t,onClick:function(){return r(1)},children:"1"}),t>4&&Object(B.jsx)(Y,{children:"..."}),i.map((function(e){return Object(B.jsx)(G,{isActive:t===e,onClick:function(){return r(e)},children:e},e)})),a&&a<n-1&&Object(B.jsx)(Y,{children:"..."}),1!==n&&Object(B.jsx)(G,{isActive:t===n,onClick:function(){return r(n)},children:n})]})},K=function(e){var n=e.query,t=e.handleQuery;return Object(B.jsxs)(P,{children:[Object(B.jsx)(S,{size:5,alignText:!0,children:"Search movies"}),Object(B.jsx)(R,{query:n,handleSearch:function(e){t(e.target.value)},placeholder:"Search movies"})]})},U=function(e,n){var t=e.movieService,r=Object(x.useState)([]),c=Object(m.a)(r,2),i=c[0],a=c[1],o=Object(x.useState)(0),s=Object(m.a)(o,2),u=s[0],l=s[1],d=Object(x.useState)(1),b=Object(m.a)(d,2),j=b[0],f=b[1],h=Object(x.useState)(!1),p=Object(m.a)(h,2),g=p[0],O=p[1],v=Object(x.useState)(""),y=Object(m.a)(v,2),w=y[0],k=y[1],S=function(e,n,t){k(t),a(e),l((function(){return Math.floor(n/10)})),O(!1)},P=function(e){return e.split(" ").filter(Boolean).join(" ")};return Object(x.useEffect)((function(){f(1)}),[n,f]),Object(x.useEffect)((function(){O(!0),t.getMovieList({s:P(n),page:j}).then((function(e){return"False"===e.Response?S([],0,e.Error):S(function(e){var n=e.map((function(e){return JSON.stringify(e)})),t=new Set(n);return Array.from(t).map((function(e){return JSON.parse(e)}))}(e.Search),Number(e.totalResults),"")})).catch((function(e){O(!1),k(e.msg)}))}),[n,j,t]),{movieList:i,totalPages:u,currentPage:j,setCurrentPage:f,error:w,isLoading:g}},V=t(5),W=t(6),X=function(){function e(){Object(V.a)(this,e)}return Object(W.a)(e,[{key:"get",value:function(n,t){var r="".concat(n,"?").concat(e.objectToQueryString(t));return e.makeRequest(r)}}],[{key:"makeRequest",value:function(e){return fetch(e).then((function(e){return e.ok&&e.json()})).catch((function(e){throw new Error("Failed to fatch movie list")}))}},{key:"objectToQueryString",value:function(e){return Object.keys(e).map((function(n){return"".concat(n,"=").concat(e[n])})).join("&")}}]),e}(),Z=t(11),$={movieService:new(function(){function e(n,t,r){Object(V.a)(this,e),this.httpService=n,this.url=t,this.apikey=r}return Object(W.a)(e,[{key:"getMovieList",value:function(e){return this.httpService.get(this.url,Object(Z.a)(Object(Z.a)({},e),{},{apikey:this.apikey}))}}]),e}())(new X,z,C)},_=function(e){var n=e.query,t=U($,n),r=t.movieList,c=t.totalPages,i=t.currentPage,a=t.setCurrentPage,o=t.isLoading,s=t.error;return Object(B.jsxs)(B.Fragment,{children:[o&&Object(B.jsx)(S,{size:2,children:"Loading..."}),!o&&Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)(w,{children:[!s&&r.map((function(e){return Object(B.jsx)(J,{data:e},e.imdbID)})),s&&Object(B.jsx)(S,{size:2,children:s})]}),0!==c&&Object(B.jsx)(H,{totalPages:c,currentPage:i,handlePageChange:function(e){a(e)}})]})]})},ee=function(){var e=function(e,n){var t=Object(x.useState)(e),r=Object(m.a)(t,2),c=r[0],i=r[1],a=Object(x.useState)(e),o=Object(m.a)(a,2),s=o[0],u=o[1];return Object(x.useEffect)((function(){var e=setTimeout((function(){u(c)}),n);return function(){clearTimeout(e)}}),[c,n]),[s,c,i]}("",500),n=Object(m.a)(e,3),t=n[0],r=n[1],c=n[2];return Object(B.jsxs)(k,{children:[Object(B.jsx)(K,{query:r,handleQuery:c}),Object(B.jsx)(_,{query:t})]})},ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,26)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),i(e),a(e)}))};O.a.render(Object(B.jsx)(p.a.StrictMode,{children:Object(B.jsx)(ee,{})}),document.getElementById("root")),ne()}},[[25,1,2]]]);
//# sourceMappingURL=main.172785aa.chunk.js.map